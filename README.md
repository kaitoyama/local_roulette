# rocal_roulette

ローカル環境で動かしても CORS エラーが出ないで使える機能のあるルーレットです。

script.js の中の配列をいじることで抽選要素を変えられます。
(初期状態では 400 までの素数が入っています)
外部ファイル(csv)の読み込みも対応しています。(CORS エラーが出るので、適宜ローカルサーバーを立てるなりしてください。)
読み込めなかった場合は script.js の内容で抽選します。

音源は otologic さんの drumRoll-6 で調整されています。
各自でダウンロードしていただいて同じディレクトリに入れてもらうと動きます。

## how to use

-   手元に落とします
-   index.html を開きます
-   回すボタンを押します
-   画面右下のトグルスイッチで履歴のソート表示ができます
-   外部ファイルを使用しない場合は、script.js の`結果を代入`の下の一行をコメントアウトしてください

## その他

音源とのタイミングの調整はハードコーティングです。

## おすすめの使い方

Visual Studio Code をインストールします
左側の四角形が四つくらい並んだボタンを押して拡張機能の追加画面に行き、LiveServer を追加します。
右下に GoLive という文字列が出たことを確認します。
File->Open でこのプログラムのフォルダーを開きます。
右下の GoLive を押すとブラウザで起動します。

## どうしても VSCode が入れられない場合での使い方

### windows かつ Chrome が入っている環境

-   `Windowsキー + R`を押して`chrome --allow-file-access-from-files`を入力し Enter
-   起動した Chrome に`index.html`をドラッグアンドドロップ

### mac

-   safari を開き、左上の`Safari`から設定を開く
-   一番右の詳細の中にある`メニューバーに"開発"メニューを表示`にチェックをいれる
-   上に出てきた開発をクリックすると出てくる`クロスオリジンの制限を無効にする`をクリックする
-   safari に`index.html`をドラッグアンドドロップ
-   終わったら`クロスオリジンの制限を無効にする`のチェックを消す

## 外部ファイルの細かい設定の仕方

1 列の csv ファイルでデータを出力します。
script.js を VSCode などで開いて、
`CSVファイルのパスを指定`と書いてある下の
`test.csv`のところの名前を出力したファイル名にします。

外部ファイルをオフにしたいときは
script.js の`結果を代入`の下の一行の先頭に`//`を追加してください。
